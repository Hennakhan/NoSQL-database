
CREATE ROLE Doctor;
CREATE ROLE Nurse;
CREATE ROLE Pharmacist;

CREATE USER Doctor1 WITHOUT Login;
CREATE USER Doctor2 WITHOUT Login;
CREATE USER Doctor3 WITHOUT Login;
CREATE USER Doctor4 WITHOUT Login;
CREATE USER Doctor5 WITHOUT Login;

CREATE USER Nurse1 WITHOUT Login;
CREATE USER Nurse2 WITHOUT Login;
CREATE USER Nurse3 WITHOUT Login;
CREATE USER Nurse4 WITHOUT Login;
CREATE USER Nurse5 WITHOUT Login;

CREATE USER Pharmacist1 WITHOUT LOGIN;
CREATE USER Pharmacist2 WITHOUT LOGIN;
CREATE USER Pharmacist3 WITHOUT LOGIN;
CREATE USER Pharmacist4 WITHOUT LOGIN;
CREATE USER Pharmacist5 WITHOUT LOGIN;

ALTER ROLE Doctor ADD MEMBER Doctor1;
ALTER ROLE Doctor ADD MEMBER Doctor2;
ALTER ROLE Doctor ADD MEMBER Doctor3;
ALTER ROLE Doctor ADD MEMBER Doctor4;
ALTER ROLE Doctor ADD MEMBER Doctor5;

ALTER ROLE Nurse ADD MEMBER Nurse1;
ALTER ROLE Nurse ADD MEMBER Nurse2;
ALTER ROLE Nurse ADD MEMBER Nurse3;
ALTER ROLE Nurse ADD MEMBER Nurse4;
ALTER ROLE Nurse ADD MEMBER Nurse5;

ALTER ROLE Pharmacist ADD MEMBER Pharmacist1;
ALTER ROLE Pharmacist ADD MEMBER Pharmacist2;
ALTER ROLE Pharmacist ADD MEMBER Pharmacist3;
ALTER ROLE Pharmacist ADD MEMBER Pharmacist4;
ALTER ROLE Pharmacist ADD MEMBER Pharmacist5;

GRANT SELECT, INSERT, UPDATE, DELETE ON Hospital.Medication TO Doctor;
DENY INSERT, UPDATE, DELETE ON Hospital.Patient TO Doctor;
GRANT SELECT ON Hospital.Patient TO Doctor;
GRANT SELECT ,UPDATE ON Hospital.Patient TO Nurse;
GRANT SELECT ON Hospital.Medication TO Nurse;
DENY UPDATE ON Hospital.Patient(ID) TO Nurse
GO

GRANT SELECT ON Hospital.vwMedication TO Pharmacist;